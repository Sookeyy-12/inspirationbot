<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inspobot</title>
    <link rel="stylesheet" href="css/main.css">
</head>

<body>
    <h1 class="ripped-border">hi. looking for inspiration or references?</h1>

    <div class="card-wrapper">
        <div class="card ripped-border">
            <a href="https://source.unsplash.com/random" class="" target="_blank">
                Get a completely random stock photo
            </a>
        </div>
        <img src="img/whale.jpg" alt="Whale" class="small-img pos-1">
    </div>


    <div class="card-wrapper">
        <div class="card ripped-border">
            <p>
                How about a true classic?
            </p>
            <a class="" target="_blank" onclick="getRandomLink('art')">
                Show a random painting from the Met
            </a>
        </div>
        <img src="img/art.jpg" alt="Curiosity" class="small-img pos-1">
    </div>

    <div class="card-wrapper">
        <div class="card ripped-border">
            <p>
                Learning to draw faces?
            </p>
            <a class="" target="_blank" onclick="getRandomLink('people')">
                Get a random human
            </a>
            <br>
            <small>
                ( it's all singer-songwriters, sorry)
            </small>
        </div>
        <img src="img/harrystyles.png" alt="Harry Styles" class="small-img pos-1">
    </div>

    <div class="card-wrapper">
        <div class="card ripped-border">
            <p>
                Amazing colors and weirdness:
            </p>
            <a class="" target="_blank" onclick="getRandomLink('nikon')">
                Get a <i>Nikonâ€™s Small World 2022</i> entry
            </a>
        </div>
        <img src="img/nikon.png" alt="Nikon Small World Image Example" class="small-img pos-1">
    </div>

    <div class="card-wrapper">
        <div class="card ripped-border">
            <p>
                Technical drawing or 3D modeling?
            </p>
            <a class="" target="_blank" onclick="getRandomLink('car_blueprints')">
                Get a car blueprint
            </a>
            
            <a class="" target="_blank" onclick="getRandomLink('forza')">
                Get a spicy car
            </a>
            <small>
                (Forza Horizon 4 Screenshot)
            </small>
        </div>
        <img src="img/miata.png" alt="Mazda Miata Blueprint" class="small-img pos-1">
        <img src="img/kadett.png" alt="Opel Kadett Forza Horizon 4 Screenshot" class="small-img pos-2">
    </div>

</body>

<script>

    function random(seed) {
        var x = Math.sin(seed++) * 10000;
        return x - Math.floor(x);
    }
    function getRandomLink(type) {
        file_name = "webscraper/data/" + type + ".txt";
        var rawFile = new XMLHttpRequest();
        rawFile.open("GET", file_name, false);
        rawFile.onreadystatechange = function () {
            if (rawFile.readyState === 4) {
                if (rawFile.status === 200 || rawFile.status == 0) {
                    var allText = rawFile.responseText;
                    var lines = allText.split("\n");
                    // var randomLine = lines[Math.floor(Math.random() * lines.length)];
                    // use random function with current date (in yyyymmdd format)
                    date = new Date();
                    date = date.getFullYear() + "" + (date.getMonth() + 1) + "" + date.getDate();
                    var randomLine = lines[Math.floor(random(date) * lines.length)];
                    line_list = randomLine.split(" ");
                    link = line_list[0];
                    window.open(link, '_blank');
                }
            }
        }
        rawFile.send(null);
        return false;

    }
</script>
</html>